
(let ((file-name-handler-alist-old file-name-handler-alist))
  (add-hook 'emacs-startup-hook
            (lambda ()
              (setq gc-cons-threshold (* 1024 1024 20))
              (setq file-name-handler-alist file-name-handler-alist-old)))
  (setq gc-cons-threshold most-positive-fixnum)
  (setq file-name-handler-alist nil))



(require 'use-package)
(setq use-package-always-ensure t)
(setq use-package-compute-statistics t)


(setq auto-revert-interval 1            ; Refresh buffers fast
      create-lockfiles nil              ; Disable lockfiles
      default-input-method "TeX"        ; Use TeX when toggling input method
      echo-keystrokes 0.1               ; Show keystrokes asap
      enable-recursive-minibuffers t    ; Allow recursive minibuffers
      frame-inhibit-implied-resize 1    ; Don't resize frame implicitly
      inhibit-startup-screen t          ; No splash screen please
      initial-scratch-message nil       ; Clean scratch buffer
      recentf-max-saved-items 10000     ; Show more recent files
      ring-bell-function 'ignore        ; Quiet
      scroll-margin 1                   ; Space between cursor and top/bottom
      sentence-end-double-space nil     ; No double space
      custom-file                       ; Customizations in a separate file
      make-backup-files nil             ; stop creating ~ files
      blink-cursor-mode -1              ; remove the blinking of the cursor
      tool-bar-mode -1                  ; disable the bar menu
)



(setq-default tab-width 4                       ; Smaller tabs
              fill-column 79                    ; Maximum line width
              truncate-lines t                  ; Don't fold lines
              indent-tabs-mode nil              ; Use spaces instead of tabs
              split-width-threshold 160         ; Split verticly by default
              split-height-threshold nil        ; Split verticly by default
              frame-resize-pixelwise t          ; Fine-grained frame resize
              auto-fill-function 'do-auto-fill) ; Auto-fill-mode everywhere
